convert more classes to swift
incorporate core data
try unit test